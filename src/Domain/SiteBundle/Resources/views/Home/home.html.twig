{% extends "DomainSiteBundle:Layout:homepage.html.twig" %}

{% block homapageHeaderHexagonDesc %}
    {% include 'DomainSiteBundle:Home:Widgets/hexagonMenuWidget.html.twig' %}
{% endblock %}

{% block  homapageHeaderHexagonMobile %}
    {% include 'DomainSiteBundle:Home:Widgets/hexagonMenuMobileWidget.html.twig' %}
{% endblock %}


{% block  homapageHeaderSearchBlock %}
    {% include 'DomainSiteBundle:Home:Widgets/searchWidget.html.twig' %}
{% endblock %}

{% block homepageHeaderTopBarNavigation %}
    <ul class="nav navbar-nav navbar-right">
        {% include 'DomainSiteBundle:Home:Widgets/languageWidget.html.twig' %}
        {% if (app.user) %}
            <li class="login-link desc-menu">
                <a href="#" class="login-button">
                    <span class="welcome">Welcome, </span>
                    <span class="user-name">
                        {{ app.user.getFirstname() }} {{ app.user.getLastname() }}
                    </span>
                </a>
            </li>
        {% else %}
            <li class="login-link desc-menu btn">
                <a href="#" class="login-button" data-toggle="modal" data-target="#loginModal">
                    login
                </a>
            </li>
        {% endif %}

        <li class="ad mobile-menu">
            <a href="">
                Advertise with us
            </a>
        </li>
    </ul>
{% endblock %}

{% block mainColumnBanner %}
    <section id="banner" class="banner">
        <div class="container" style="width:728px">
            <div class="row">
                <div class="col-xs-12 banner-block desc-banner">
                    {% include 'DomainSiteBundle:Layout:Widgets/bannerWidget.html.twig' with { 'banner' : banner, 'crop' : 'serp' } %}
                </div>
                <div class="col-xs-12 mobile-banner">
                    <img src="http://placehold.it/300x250">
                    <img src="http://placehold.it/300x250">
                </div>
            </div>
        </div>
    </section>
{% endblock %}

{% block  mainColumnContainers %}
    <section id="articles-videos" class="articles-videos">
        <div class="container">
            <div class="row">
                <div class="col-md-6 articles-section">
                    {% include 'DomainSiteBundle:Home:Widgets/articlesWidget.html.twig' %}
                </div>
                <div class="col-md-6 videos-section">
                    {% include 'DomainSiteBundle:Home:Widgets/videosWidget.html.twig' %}
                </div>
            </div>
        </div>
    </section>
{% endblock %}

{% block mainContainerBanners %}
    <!-- Banners -->
    <section id="banners" class="banners">
            <div class="container">
                <div class="row">
                    <div class="col-xs-6 banner-small">
                        {% include 'DomainSiteBundle:Layout:Widgets/bannerWidget.html.twig' with { 'banner' : bannerBottom, 'crop' : 'portal'  } %}
                    </div>
                    <div class="col-xs-6 banner-small">
                        {% include 'DomainSiteBundle:Layout:Widgets/bannerWidget.html.twig' with { 'banner' : bannerBottom, 'crop' : 'portal'  } %}
                    </div>
                </div>
            </div>
    </section>
{% endblock %}

{% block homeModals %}
    {% include 'DomainSiteBundle:Home:Modals/login.html.twig' with { 'loginForm' : loginForm } %}
    {% include 'DomainSiteBundle:Home:Modals/registration.html.twig' with { 'registrationForm' : registrationForm } %}
    {% include 'DomainSiteBundle:Home:Modals/forgotten_password.html.twig' with { 'resetPasswordRequestForm' : resetPasswordRequestForm} %}
    {% include 'DomainSiteBundle:Home:Modals/reset_password.html.twig' with { 'resetPasswordForm' : resetPasswordForm} %}
{% endblock %}

{% block scripts %}
    {{ parent() }}
    <script type="text/javascript">
        requirejs(['./{{ asset("/bundles/domainsite/scripts/common.js")}}'], function(common) {
            requirejs(['{{asset("/bundles/domainsite/scripts/modules/homepage.js")}}'], function(Homepage) {
                var siteHomepage = new Homepage({
                    'locale'       : '{{ locale }}'
                });
            })
        })
    </script>
{% endblock%}
 
