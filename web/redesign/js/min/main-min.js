var headerSearch=$("#search-trigger"),header=$(".header"),searchButton=$("#search-button"),logo=$(".logo"),navToggle=$(".nav__toggle"),searchField=$(".field--search"),geoField=$(".field--geo"),geoInput=$(".search-geo"),closeSearch=$("#close-search"),catToggle=$("#category-toggle"),cats=$(".categories"),openCats=[{e:cats,p:{translateY:335},o:{duration:600,easing:"easeOutCubic"}}],closeCats=[{e:cats,p:{translateY:0},o:{duration:600,easing:"easeIn"}}],openSearchSequence=[{e:header,p:{height:"190px"},o:{duration:300,easing:"easeOut"}},{e:logo,p:{translateX:-100},o:{duration:200,sequenceQueue:!1}},{e:navToggle,p:{translateX:100},o:{duration:200,sequenceQueue:!1}},{e:geoField,p:{translateY:65},o:{duration:300,easing:"easeOutCubic",sequenceQueue:!1}},{e:geoInput,p:{scale:1},o:{duration:300,easing:"easeOutCubic",sequenceQueue:!1}},{e:closeSearch,p:{scale:1},o:{duration:200}},{e:searchButton,p:{translateX:-200},o:{duration:500,easing:"easeOutCubic"}}],closeSearchSequence=[{e:searchButton,p:{translateX:0},o:{duration:500,easing:"easeOutCubic",sequenceQueue:!1}},{e:geoField,p:{translateY:0},o:{duration:300,easing:"easeOutCubic",sequenceQueue:!1}},{e:geoInput,p:{scale:.7},o:{duration:300,easing:"easeOutCubic",sequenceQueue:!1}},{e:closeSearch,p:{scale:0},o:{duration:200,easing:"easeOutCubic",sequenceQueue:!1}},{e:navToggle,p:{translateX:0},o:{duration:400,easing:"easeOutCubic",sequenceQueue:!1}},{e:logo,p:{translateX:0},o:{duration:400,easing:"easeOutCubic",sequenceQueue:!1}},{e:header,p:{height:"45px"},o:{duration:300,easing:"easeOut",sequenceQueue:!1}}];$.fn.openSearch=function(e){var a,o;a=$(this),o=$.extend({toggle:!0,close:!1},e),header.is(".header__search--active")||(header.addClass("header__search--active"),$.Velocity.RunSequence(openSearchSequence,{mobileHA:!0}),cats.removeClass("categories--opened"),$.Velocity.RunSequence(closeCats,{mobileHA:!0}),$("body").addClass("body--no-scroll")),o.show&&(headerSearch.closest(".header").addClass("header__search--active"),header.addClass("header__search--active"),$.Velocity.RunSequence(openSearchSequence,{mobileHA:!0}),cats.removeClass("categories--opened"),$.Velocity.RunSequence(closeCats,{mobileHA:!0}),$("body").addClass("body--no-scroll")),o.close&&(header.removeClass("header__search--active"),$.Velocity.RunSequence(closeSearchSequence,{mobileHA:!0}),$("body").removeClass("body--no-scroll"))},headerSearch.on("click",function(){header.openSearch()}),closeSearch.on("click",function(){header.openSearch({close:!0})});var nav=$("#nav"),navCloseButton=$("#nav-close"),openNav=[{e:nav,p:{right:0},o:{duration:450,easing:"easeOutCubic"}}],closeNav=[{e:nav,p:{right:"-100vw"},o:{duration:450,easing:"easeIn"}}];$.fn.openNav=function(){var e;e=$(this),nav.is(".nav--opened")?(nav.removeClass("nav--opened"),$.Velocity.RunSequence(closeNav,{mobileHA:!0}),$("body").removeClass("body--no-scroll")):(nav.addClass("nav--opened"),$.Velocity.RunSequence(openNav,{mobileHA:!0}),$("body").addClass("body--no-scroll"))},navToggle.on("click",function(){$(this).openNav(),cats.removeClass("categories--opened"),$.Velocity.RunSequence(closeCats,{mobileHA:!0})}),navCloseButton.on("click",function(){$(this).openNav()});var sortButton=$(".sort-button");sortButton.on("click",function(){$(this).addClass("sort--active"),$(this).siblings().removeClass("sort--active")});var resultsMap=$(".results-map"),showMap=$("#show-map"),hideMap=$("#hide-map"),adBottom=$(".ad--bottom"),openMapSequence=[{e:adBottom,p:{translateY:200},o:{duration:400,easing:"easeOutCubic"}},{e:showMap,p:{translateY:140},o:{duration:400,easing:"easeOuCubic",sequenceQueue:!1}},{e:resultsMap,p:{translateY:"-110vh"},o:{duration:600,delay:200,easing:"easeOutCubic",sequenceQueue:!1}},{e:hideMap,p:{translateY:-120},o:{duration:200,easing:"easeOutCubic"}}],closeMapSequence=[{e:hideMap,p:{translateY:120},o:{duration:300,easing:"easeOutCubic",sequenceQueue:!1}},{e:resultsMap,p:{translateY:0},o:{duration:600,delay:200,easing:"easeOutCubic",sequenceQueue:!1}},{e:showMap,p:{translateY:0},o:{duration:300,easing:"easeOutCubic"}}],openMapDeskSequence=[{e:showMap,p:{translateX:500},o:{duration:400,easing:"easeOuCubic",sequenceQueue:!1}},{e:hideMap,p:{translateX:-520},o:{duration:200,easing:"easeOutCubic"}}],closeMapDeskSequence=[{e:hideMap,p:{translateX:0},o:{duration:300,easing:"easeOutCubic",sequenceQueue:!1}},{e:showMap,p:{translateX:0},o:{duration:300,easing:"easeOutCubic"}}];$(document).ready(function(){$(".ad--bottom").is(".ad--active")&&showMap.addClass("floating-offset");var e=$(".to-compare__field input"),a=$("#compare-selection-summary");$.fn.addToCompare=function(){$(this).each(function(){var e=$(".to-compare__field input:checked"),o;o=$(this),$(this).is(":checked")?$(".compare-number").html(e.size()):$(".compare-number").html(e.size()),e.size()>0?a.addClass("to-compare-summary--active"):a.removeClass("to-compare-summary--active")})},e.on("change",function(){$(this).addToCompare(),$(".ad--bottom").hide()});var o=$(".remove-compare-item");o.on("click",function(){$(this).closest(".comparison__item").velocity({opacity:0,top:100},{display:"none"})});var s=$(".form__field input, .form__field textarea");s.focus(function(){$(this).parent().addClass("field-active"),$(this).parent().find("label").addClass("label-active")}),s.blur(function(){""===$(this).val()?($(this).parent().removeClass("field-active field-filled"),$(this).parent().find("label").removeClass("label-active")):$(this).parent().addClass("field-filled")}),$(".form input, .form textarea").each(function(){var e;e=$(this),0!==e.prop("value").length&&e.parent().addClass("field-active")}),$("#select-cat, #select-area, #select-payments, #tags, #select-days").selectize({plugins:["remove_button"],delimiter:",",persist:!1,create:function(e){return{value:e,text:e}}}),$("#select-from, #select-to").selectize({maxItems:1});var t=$(".modal"),n=$("modal__content"),i=$(".modal__outside"),c=[{e:t,p:{top:0},o:{duration:400,easing:"easeOuCubic",sequenceQueue:!1,display:"flex"}},{e:i,p:{opacity:1},o:{duration:800,easing:"easeOuCubic",sequenceQueue:!1,display:"block"}}],l=[{e:t,p:{top:"100vh"},o:{duration:400,easing:"easeOuCubic",sequenceQueue:!1,display:"none"}},{e:i,p:{opacity:0},o:{duration:300,easing:"easeOuCubic",sequenceQueue:!1,display:"none"}}];$.fn.modalFunc=function(e){$(this).each(function(){var a,o;a=$(this),o=$.extend({toggle:!0,close:!1},e),a.is(".modal--opened")?(a.removeClass("modal--opened"),$("body").removeClass("body--no-scroll")):(a.addClass("modal--opened"),$("body").addClass("body--no-scroll")),o.show&&(a.addClass("modal--opened"),$("body").addClass("body--no-scroll")),o.close&&(a.removeClass("modal--opened"),$("body").removeClass("body--no-scroll"))})},$(document).on("click","[data-show-modal-id]",function(){var e,a;e=$(this),a=e.data("show-modal-id"),$("#"+a+".modal").modalFunc(),e.siblings().removeClass("modal--opened")}),$(document).on("click",".hide-modal, .modal__outside",function(){$(".modal--opened").modalFunc({close:!0})})}),$.fn.toggleCat=function(){$(this).each(function(){var e;e=$(this),cats.is(".categories--opened")?(cats.removeClass("categories--opened"),$.Velocity.RunSequence(closeCats,{mobileHA:!0}),$("body").removeClass("body--no-scroll")):(cats.addClass("categories--opened"),$.Velocity.RunSequence(openCats,{mobileHA:!0}),$("body").addClass("body--no-scroll"))})},catToggle.on("click",function(){$(this).toggleCat()});var resultItem=$(".results__item--normal"),resultClickzone=$(".item__summary"),resultActions=$(".item__actions"),detailLink=$(".detail-link"),itemActive=$(".results__item--active");$("#ad-close").on("click",function(){$(this).parent().hide(),showMap.removeClass("floating-offset")});var mediaquery=window.matchMedia("(min-width: 769px)");if(mediaquery.matches){showMap.on("click",function(){$.Velocity.RunSequence(openMapDeskSequence,{mobileHA:!0}),showMap.removeClass("floating-offset"),$("body").addClass("body--no-scroll results--map-view")}),hideMap.on("click",function(){$.Velocity.RunSequence(closeMapDeskSequence,{mobileHA:!0}),$("body").removeClass("body--no-scroll results--map-view")});for(var sources=document.querySelectorAll("#bgvid source"),video=document.querySelector("#bgvid"),i=0;i<sources.length;i++)sources[i].setAttribute("src",sources[i].getAttribute("data-src"));video.load()}else{showMap.on("click",function(){$.Velocity.RunSequence(openMapSequence,{mobileHA:!0}),showMap.removeClass("floating-offset"),$("body").addClass("body--no-scroll")}),hideMap.on("click",function(){$.Velocity.RunSequence(closeMapSequence,{mobileHA:!0}),$("body").removeClass("body--no-scroll")}),$.fn.openResult=function(){$(this).each(function(){var e;e=$(this),e.closest(resultItem).is(".results__item--active")?resultItem.removeClass("results__item--active"):($(this).closest(resultItem).addClass("results__item--active"),$(this).closest(resultItem).siblings().removeClass("results__item--active"),$(this).closest(resultItem).find("a").unbind("click"))})},resultClickzone.on("click",function(){$(this).openResult()}),$(".phantom-link").on("click",function(){event.preventDefault()});var videoContainer=$(".video-header__container"),url=videoContainer.data("mbg");videoContainer.css("background-image","url("+url+")")}var comparisonListToggle=$("#comparison-list-toggle"),comparisonListHide=$("#comparison-list-hide");comparisonListToggle.on("click",function(){$(".main").addClass("comparison-list--active")}),comparisonListHide.on("click",function(){$(".main").removeClass("comparison-list--active")});var profileNav=$(".profile-nav"),profileNavToggle=$(".profile-toggle");profileNavToggle.on("click",function(){$(this).parent().toggleClass("profile-nav--opened")}),profileNav.on("click",function(){$(this).toggleClass("profile-nav--opened")});