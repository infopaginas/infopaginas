{% extends 'OxaSonataAdminBundle:CRUD:edit.html.twig' %}

{% block javascripts %}
    {{ parent() }}
    <script>
        var formId = '{{ form.vars.id }}';
        var parentId = '{{ app.request.get('id', null) }}';
        var businessProfileId = '{{ form.vars.value.id }}';
        var currentLocale = '{{ form.vars.value.locale }}';
        var errorList = {
            'keyword':{
                'minLength': '{{ 'business_profile.keywords.min_length'|trans({'{{ limit }}': KEYWORD_VALIDATION.MIN_LENGTH}, 'validators') }}',
                'maxLength': '{{ 'business_profile.keywords.max_length'|trans({'{{ limit }}': KEYWORD_VALIDATION.MAX_LENGTH}, 'validators') }}',
                'notBlank': '{{ 'business_profile.keywords.not_blank'|trans({}, 'validators') }}',
                'oneWord': '{{ 'business_profile.keywords.one_word'|trans({}, 'validators') }}'
            },
            'phones': {
                'not_unique': '{{ 'business_profile_phone.not_unique_main'|trans({}, 'validators') }}',
                'no_main': '{{ 'business_profile_phone.no_main'|trans({}, 'validators') }}'
            }
        };
        var validators = {
            'keyword':{
                'oneWord': {{ validators.keyword.one_word }}
            }
        };
    </script>
    <script src="{{ asset('bundles/fosjsrouting/js/router.js') }}"></script>
    <script src="{{ path('fos_js_routing_js', { callback: 'fos.Router.setData' }) }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/domainbusiness/scripts/modules/businessProfileAdmin.js')}}"></script>
    <script type="text/javascript" src="{{ asset('bundles/domainbusiness/scripts/modules/reportsAdmin.js')}}"></script>
    <script type="text/javascript" src="{{ asset('bundles/domainsite/scripts/vendors/highcharts.js')}}"></script>
    <script type="text/javascript" src="{{ asset('bundles/domainsite/scripts/modules/sonataCollectionRemove.js')}}"></script>
{% endblock %}
