imports:
    - { resource: parameters.yml }
    - { resource: security.yml }
    - { resource: services.yml }
    - { resource: extra-configs/sonata_admin.yml }
    - { resource: extra-configs/user.yml }
    - { resource: extra-configs/editor.yml }
    - { resource: extra-configs/extensions.yml }
    - { resource: extra-configs/sonata_media.yml }
    - { resource: extra-configs/sonata_translation.yml }
    - { resource: "@OxaSonataUserBundle/Resources/config/services.yml" }
    - { resource: "@DomainMenuBundle/Resources/config/services.yml" }
    - { resource: "@DomainArticleBundle/Resources/config/services.yml" }
    - { resource: "@JMaitanSonataMediaCropBundle/Resources/config/services.xml" }
    - { resource: "@OxaGeolocationBundle/Resources/config/services.yml" }
    - { resource: "@OxaDfpBundle/Resources/config/services.yml" }

# Put parameters here that don't need to change on each machine where the app is deployed
# http://symfony.com/doc/current/best_practices/configuration.html#application-related-configuration
parameters:
    locale: en
    locales: [en, es]
    locale_data:
        es:
            domain: ''
            title: 'Espa&ntilde;ol'
        en:
            domain: 'en'
            title: 'English'
    route_locales: en|es
    locale_admin:
        url_part: 'admin'
        locale: 'en'
    videos_upload_path: %assetic.write_to%/uploads/videos
    default_image:
        path: '/assets/images/'
        business_image: 'header-logo.png'
        article:
            image: 'header-logo.png'
            width: '221'
            height: '42'
    google_map_api_key: "AIzaSyACRiuSCjh3c3jgxC53StYJCvag6Ig8ZIw"
    google_map_default_center: '18.2208, -66.5901'
    google_map_default_center_name: 'San Juan'
    seo_custom_settings:
        company_name: 'Infop√°ginas'
        title_max_length: 60
        description_max_length: 160
    image_back_up_path: '/../web/imageBackUp/'

framework:
    #esi:             ~
    translator:      { fallbacks: %locales% }
    default_locale:  "%locale%"
    secret:          "%secret%"
    router:
        resource: "%kernel.root_dir%/config/routing.yml"
        strict_requirements: ~
    form:            ~
    csrf_protection: ~
    validation:      { enable_annotations: true }
    serializer:
        enabled: true
        enable_annotations: true
    templating:
        engines: ['twig']
    trusted_hosts:   ~
    trusted_proxies: ~
    session:
        # handler_id set to null will use default session handler from php.ini
        handler_id:  ~
        storage_id: dynamicDomainSessionStorage
        name: SFSESSID
    fragments:       ~
    http_method_override: true

# Twig Configuration
twig:
    debug:            "%kernel.debug%"
    strict_variables: "%kernel.debug%"
    form:
        resources:
            - 'SonataFormatterBundle:Form:formatter.html.twig'
            - 'OxaSonataMediaBundle:Form:media_widgets.html.twig'
            - 'SonataCoreBundle:Form:datepicker.html.twig'
    form_themes:
        - 'DomainBusinessBundle:Form:fields.html.twig'
    globals:
        google_map_api_key: '%google_map_api_key%'
        google_map_default_center: '%google_map_default_center%'

#       todo confirm date formats
        review_date_format:       'd M Y H:i'
        article_date_format:      'M d, Y'
        business_date_format:     'Y-m-d'
        subscription_date_format: 'Y-m-d'
        ads_stat_date_format:     'd.m.Y'
        task_date_format:         'd M, Y, H:i:s A'
# Doctrine Configuration
doctrine:
    dbal:
        default_connection: default
        connections:
            default:
                driver:   "%database_driver%"
                host:     "%database_host%"
                port:     "%database_port%"
                dbname:   "%database_name%"
                user:     "%database_user%"
                password: "%database_password%"
                charset:  UTF8
                mapping_types:
                    enum: string
        types:
            json: Sonata\Doctrine\Types\JsonType
            TaskType: Domain\BusinessBundle\DBAL\Types\TaskType
            TaskStatusType: Domain\BusinessBundle\DBAL\Types\TaskStatusType
    orm:
        auto_generate_proxy_classes: true
        naming_strategy: doctrine.orm.naming_strategy.underscore
        auto_mapping: true
        mappings:
            OxaSonataUserBundle: ~
            SonataUserBundle: ~
            FOSUserBundle: ~
            OxaSonataMediaBundle: ~
            SonataMediaBundle: ~
        filters:
            softdeleteable:
                class: Gedmo\SoftDeleteable\Filter\SoftDeleteableFilter
                enabled: true

# Swiftmailer Configuration
swiftmailer:
    transport: "%mailer_transport%"
    host:      "%mailer_host%"
    username:  "%mailer_user%"
    password:  "%mailer_password%"
    spool:     { type: memory }

# Assetic Configuration
assetic:
    debug:          "%kernel.debug%"
    use_controller: false
    bundles:        [ ]
    #java: /usr/bin/java
    filters:
        cssrewrite: ~
        closure:
            jar: "%kernel.root_dir%/Resources/java/compiler.jar"
        yui_css:
            jar: "%kernel.root_dir%/Resources/java/yuicompressor-2.4.7.jar"
        scssphp:
            formatter: 'Leafo\ScssPhp\Formatter\Compressed'
        jsqueeze: ~

doctrine_migrations:
    dir_name: "%kernel.root_dir%/DoctrineMigrations"
    namespace: Application\Migrations
    table_name: migration_versions
    name: Application Migrations

ivory_google_map:
    geocoder:
        enabled: true
        class: "Ivory\GoogleMap\Services\Geocoding\Geocoder"
        provider:
            class: "Ivory\GoogleMap\Services\Geocoding\GeocoderProvider"
        adapter: "Geocoder\HttpAdapter\CurlHttpAdapter"

hwi_oauth:
    connect:
        account_connector: oxa.user.oauth_provider
        confirmation: false
    firewall_name: main
    fosub:
        username_iterations: 30
        properties:
            facebook: facebookId
    resource_owners:
        facebook:
            type:                facebook
            client_id:           229778020787780
            client_secret:       e8856b7872e7cbc138384aaae58bb4cd
            scope:         "email"
            infos_url:     "https://graph.facebook.com/me?fields=id,name,email,first_name,last_name"
            paths:
                email:          email
        google:
            type:                google
            client_id:           1038987589554-5beh6k655b6nma7ltrd9sv17avbobjkp.apps.googleusercontent.com
            client_secret:       MqwCsstQtzNrT_WTgWW5Styc
            scope:               "https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile"

fos_js_routing:
    routes_to_expose: [ fos_user_security_check ]

google:
    analytics:
        enhanced_ecommerce: true
        session_auto_started: true
        trackers:
            default:
                name: MyJavaScriptCompatibleVariableNameWithNoSpaces
                accountId: UA-83876369-2
                domain: infopaginas.io
                setSiteSpeedSampleRate: 5
                allowAnchor: true
                allowHash: true
                includeNamePrefix: false
                plugins:
                    - 'linkid'
                    - 'ec'
        whitelist: [ 'q', 'utm_source', 'utm_medium', 'utm_term', 'utm_content', 'utm_campaign' ]

happyr_google_site_authenticator:
    cache_service: 'cache.provider.my_file_system'
    tokens:
        google_analytics:
            client_id: '496444845522-no82atjdrcmbnbo2jl6238g28qiamae9.apps.googleusercontent.com'
            client_secret: 'eRZEJiZIQw9w0SKyye-68jTU'
            redirect_url: 'http://infopaginas.io/app_dev.php/admin/authenticate-google/return-url'
            scopes: ['https://www.googleapis.com/auth/analytics.readonly']

oneup_flysystem:
    adapters:
        my_adapter:
            local:
                directory: %kernel.root_dir%/cache
    filesystems:
        local:
            adapter: my_adapter

cache_adapter:
  providers:
      my_file_system:
          factory: 'cache.factory.filesystem'
          options:
              flysystem_service: 'oneup_flysystem.local_filesystem'

happyr_google_analytics:
    http_client: 'httplug.client'
    http_message_factory: 'httplug.message_factory'
    tracking_id: UA-83876369-2
    fetching:
        client_service: 'google.client.google_analytics'
        view_id: 129461101
        cache_service: 'cache.provider.my_file_system'
        cache_lifetime: 3600

presta_sitemap:
    timetolive: 86400
    items_by_set: 100
